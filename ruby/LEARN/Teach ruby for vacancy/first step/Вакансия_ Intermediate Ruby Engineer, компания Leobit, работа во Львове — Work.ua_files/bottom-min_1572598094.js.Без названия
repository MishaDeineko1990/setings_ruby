function signJSAjobsOne(e,n,t){$.ajax({type:"POST",dataType:"json",url:"/_data/_ajax/jsa_sign_fromSearch.php",cache:!1,data:{jsaSign:1,email:e,jsaArr:n,jsaParam:t},success:function(e){if(void 0!=e.err)$("#sign_err").html(e.err),$("#jsaF0").find(".form-group").addClass("has-danger"),$("#signJsa").prop("disabled",!1);else{var n=$("#okMess0 .alert-success");n.html(n.html()+'<ul><li><a href="'+e.linkHref+'">'+lang.sa_look+"</a></li></ul>"),$("#jsaCreatedName").html(e.jsa_name),$(".form-group").removeClass("has-danger"),$("#sign_err").html(""),$("#jsaF0").css("display","none"),2==e.create&&$("#okMess0").html(e.warn),$("#okMess0").css("display","block")}"undefined"!=typeof telegramSubscribeBtn&&telegramSubscribeBtn.hideErrorAlert()}})}function filterJob(){var e="",n=".job-link";region_val=$("#region").val(),category_val=$("#category").val(),region_pattern="[data-r="+region_val+"]",category_pattern="[data-c~="+category_val+"]",0==region_val&&(region_pattern=""),0==category_val&&(category_pattern=""),$("a.short-vacancy-list").remove(),$("#vacMess").addClass("hide"),$(n).addClass("hide filteredJs"),e=region_pattern+category_pattern,$(n+e).removeClass("hide filteredJs");var t=$(n).length-$(n+".hide").length;if(updateUrlGetParameters("region",region_val>0?region_val:null),updateUrlGetParameters("category",category_val>0?category_val:null),!t){var o=$("#category option:selected").html(),a=$(".regSp");$(a[1]).html(townAlias[region_val]),$(a[0]).html(townAlias[region_val].charAt(0).toUpperCase()+townAlias[region_val].substr(1)),$(".catSp").html(o),$("#vacMess").removeClass("hide")}}function updateUrlGetParameters(e,n){var t=[location.protocol,"//",location.host,location.pathname].join(""),o=document.location.search,a=e+"="+n,i="?"+a,r={};if(o){var s=new RegExp("([?&])"+e+"[^&]*"),l=new RegExp("([?&])"+e+"=[^&;]+[&;]?");void 0===n||null==n||""==n?(i=o.replace(l,"$1"),i=i.replace(/[&;]$/,"")):i=null!==o.match(s)?o.replace(s,"$1"+a):o+"&"+a}else void 0!==n&&null!=n&&""!=n||(i="");i="?"==i?"":i,r[e]=n,window.history.replaceState(r,"",t+i+location.hash)}if($("#searchform").length>0&&!$("#cityPage").length){var $lnks=$(".similar-jobs"),$arr=$(".drop-jobs"),innerLength=$lnks.find("span").outerWidth();$lnks.find("a").each(function(){innerLength+=parseInt($(this).outerWidth())}),innerLength>$lnks.width()-20&&($arr.click(function(){$(this).hide(),$lnks.addClass("show-all-jobs")}),$arr.show())}if($(".menu-action-bottom-xs").length>0&&function(){function e(){a=window.innerHeight,((u=c>d?d:c)-a||!window.pageYOffset)&&(o(),i.css("bottom",-i.height()),"true"==i.find(".navbar-toggle").attr("aria-expanded")&&i.find(".navbar-toggle").trigger("click"),i.find(".menu-bottom-alert-wrap").slideUp(200))}function n(){setTimeout(function(){$("html, body").css({height:"100vh",overflow:"hidden"}),setTimeout(function(){$("html, body").css({height:"100%",overflow:"hidden"})},150)},150)}function t(){window.innerWidth<768?r.css("margin-bottom",l+s):r.css("margin-bottom",s)}function o(){"none"==i.css("display")&&i.css("display","block")}var a,i=$(".menu-action-bottom-xs"),r=$("footer"),s=20,l=i.height(),c=window.innerHeight,d=window.innerWidth,g=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),h=c<d,u=c>d?d:c;t(),g&&window.innerWidth<768?($("body").children().wrapAll('<div class="content-wrap"></div>'),h||(n(),i.detach().appendTo("body")),$(window).on("resize",function(){if(h=window.innerHeight<window.innerWidth,t(),h){if(i.detach().appendTo(".fix-block-bottom-xs"),$("html, body").removeAttr("style"),navigator.userAgent.match("CriOS"))return o(),setTimeout(function(){i.css("bottom",0)},250),!1;i.css("bottom",-i.height()),u==window.innerHeight&&(o(),setTimeout(function(){i.css("bottom",0)},250)),$(window).on("scroll.safariFix",e)}else i.detach().appendTo("body"),n(),$(window).off("scroll.safariFix")})):(o(),$(window).on("resize",function(){t()}))}(),$(".jobJs").length>0){if($(window).trigger("scroll"),$(document).on("click","#signJsa",function(){var e=$("#h1-name").text();$(this).prop("disabled",!0),signJSAjobsOne($("#sa_sign").val(),{search:e,id:$("#sa_sign").attr("data-id")},"job")}),complainFunc.Init(),$("a.sendr").length>0)var a=$("a.sendr").SendResume({jobId:$("a.sendr").first().data("id"),text_response:$("a.sendr").first().data("text_response"),file_max_size:file_max_size,file_types:file_types,havesent:"p.already-sent",user_id:$("a.sendr").first().data("user-id")});setTimeout(function(){$("#socialButtons").AddSocialButtons({url:url})},1e3),isEmployer?$(".empls").click(function(){$("body").ModalBPWnd({title:lang.jobseeker_only,content:lang.jobseeker_only_descr}),$("body").ModalBPWnd("open")}):$("body").toggleSavedCondition(),$(".dropdown-menu li a").on("mouseover",function(e){e.preventDefault()})}if($("#searchform").length>0&&($(".col-md-4 .no-style a").click(function(){$(this).parents("ul").children(".hide").removeClass("hide"),$(this).parent().hide(),$banner=$("#bannerSticky"),$banner.length&&$banner.css("top",parseInt($banner.css("top"))+350)}),$("body").toggleSavedCondition()),$(".companyJs").length>0){if($(window).scroll(function(){$(this).scrollTop()>400?$(".up").show():$(".up").hide()}),setTimeout(function(){$("#socialButtons").AddSocialButtons({url:url})},1e3),$(window).scrollTop()>400&&$(".up").show(),""!=townAlias){var region_pattern="",category_pattern="",region_val=$("#region").val(),category_val=$("#category").val();$("#regionLink").click(function(){$("#category").val(0),$("#category").trigger("change")}),$("#categoryLink").click(function(){$("#region").val(0),$("#region").trigger("change")}),$("#region").on("change",function(){updateUrlGetParameters("showAll",!0),filterJob()}),$("#category").on("change",function(){updateUrlGetParameters("showAll",!0),filterJob()})}$(".migr-l1").click(function(){return location.href=$(this).attr("href"),!1})}